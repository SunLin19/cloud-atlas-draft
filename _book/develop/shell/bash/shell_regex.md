简单归纳：

* `^` 行首匹配
* `$` 行尾匹配
* `^$` 空行，不包含任何字符的行
* `+` 表示前面的字符至少出现一次
* `[]` 中括号内到好好任意组合都行
* `[0-9]` 任意数字，即0到9任意数字
* `[a-zA-Z]` 匹配任意字母
* `[a-z]\{10\}` 匹配10个a-z字符的字符串
* `s/.\{5\}$//` 删除每行最后5个字符（类似sed替换）

举例邮件地址格式检查（@符号之前部分）：

```
^([a-zA-Z0-9_\-\.\+]+)
```

表示任意字母和数字，以及下划线，中划线，点，加号都可以，并且至少一个字符。

举例：格式 `NcNg`（N表示数字）：

```
^([0-9]+[cC][0-9]+[gG])$
```

对于判断是否符合规则，我们采用将变量通过awk过滤后是否为空来判断是否负荷要求。如果为空就表明没有匹配上正则，就可以提示错误：

```bash
verify_vm_size=`echo $vm_size | gawk '/^([0-9]+[cC][0-9]+[gG])$/{print $0}'`
if [ -z "$verify_vm_size" ];then
    echo "虚拟机规格错误，必须是 XcYg 格式，例如 2c8g 或 4c16g 等等"
    exit 1
fi
```

# 参考

* [shell利用正则表达式验证邮箱合法性](https://blog.csdn.net/dream_angel_z/article/details/45974033)
* [shell脚本regex正则表达式 和 字符串替换](http://eblddong.iteye.com/blog/1602014)